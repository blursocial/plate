{"version":3,"file":"index.js","sources":["../src/LinkElement/LinkElement.styles.ts","../src/LinkElement/LinkElement.tsx","../src/ToolbarLink/ToolbarLink.tsx"],"sourcesContent":["import {\n  createStyles,\n  StyledElementProps,\n} from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\n\nexport const getLinkElementStyles = (props: StyledElementProps) =>\n  createStyles(\n    { prefixClassNames: 'LinkElement', ...props },\n    {\n      root: css`\n        color: #0078d4;\n        text-decoration: initial;\n\n        :hover,\n        :visited:hover {\n          color: #004578;\n          text-decoration: underline;\n        }\n\n        :visited {\n          color: #0078d4;\n        }\n      `,\n    }\n  );\n","import React from 'react';\nimport { LinkNodeData } from '@udecode/plate-link';\nimport { StyledElementProps } from '@udecode/plate-styled-components';\nimport { getLinkElementStyles } from './LinkElement.styles';\n\nexport const LinkElement = (props: StyledElementProps<LinkNodeData>) => {\n  const {\n    attributes,\n    children,\n    nodeProps,\n    styles: _styles,\n    element,\n    classNames,\n    prefixClassNames,\n    ...rootProps\n  } = props;\n\n  const { root } = getLinkElementStyles(props);\n\n  return (\n    <a\n      {...attributes}\n      href={element.url}\n      css={root.css}\n      className={root.className}\n      {...rootProps}\n      {...nodeProps}\n    >\n      {children}\n    </a>\n  );\n};\n","import React from 'react';\nimport { someNode } from '@udecode/plate-common';\nimport {\n  getPlatePluginType,\n  useEventEditorId,\n  useStoreEditorState,\n} from '@udecode/plate-core';\nimport { ELEMENT_LINK, getAndUpsertLink } from '@udecode/plate-link';\nimport { ToolbarButton, ToolbarButtonProps } from '@udecode/plate-toolbar';\n\nexport interface ToolbarLinkProps extends ToolbarButtonProps {\n  /**\n   * Default onMouseDown is getting the link url by calling this promise before inserting the image.\n   */\n  getLinkUrl?: (prevUrl: string | null) => Promise<string | null>;\n}\n\nexport const ToolbarLink = ({ getLinkUrl, ...props }: ToolbarLinkProps) => {\n  const editor = useStoreEditorState(useEventEditorId('focus'));\n\n  const type = getPlatePluginType(editor, ELEMENT_LINK);\n  const isLink = !!editor?.selection && someNode(editor, { match: { type } });\n\n  return (\n    <ToolbarButton\n      active={isLink}\n      onMouseDown={async (event) => {\n        if (!editor) return;\n\n        event.preventDefault();\n        getAndUpsertLink(editor, getLinkUrl);\n      }}\n      {...props}\n    />\n  );\n};\n"],"names":["getLinkElementStyles","props","createStyles","prefixClassNames","root","css","LinkElement","attributes","children","nodeProps","styles","_styles","element","classNames","rootProps","React","url","className","ToolbarLink","getLinkUrl","editor","useStoreEditorState","useEventEditorId","type","getPlatePluginType","ELEMENT_LINK","isLink","selection","someNode","match","ToolbarButton","event","preventDefault","getAndUpsertLink"],"mappings":";;;;;;;;;;;;;;;;;MAMaA,oBAAoB,GAAIC,KAAD,IAClCC,kCAAY,CACV;AAAEC,EAAAA,gBAAgB,EAAE,aAApB;AAAmC,KAAGF;AAAtC,CADU,EAEV;AACEG,EAAAA,IAAI,EAAEC,WAAF;AADN,CAFU;;;;;;;;;;;;;;;;;;;;MCFDC,WAAW,GAAIL,KAAD,IAA6C;AACtE,QAAM;AACJM,IAAAA,UADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,SAHI;AAIJC,IAAAA,MAAM,EAAEC,OAJJ;AAKJC,IAAAA,OALI;AAMJC,IAAAA,UANI;AAOJV,IAAAA,gBAPI;AAQJ,OAAGW;AARC,MASFb,KATJ;AAWA,QAAM;AAAEG,IAAAA;AAAF,MAAWJ,oBAAoB,CAACC,KAAD,CAArC;AAEA,sBACEc,+DACMR,UADN;AAEE,IAAA,IAAI,EAAEK,OAAO,CAACI,GAFhB;AAIE,IAAA,SAAS,EAAEZ,IAAI,CAACa;AAJlB,KAKMH,SALN,EAMML,SANN;AAAA,WAGOL,IAAI,CAACC;AAHZ,MAQGG,QARH,CADF;AAYD;;;;;;;MCdYU,WAAW,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAc,KAAGlB;AAAjB,CAAD,KAAgD;AACzE,QAAMmB,MAAM,GAAGC,6BAAmB,CAACC,0BAAgB,CAAC,OAAD,CAAjB,CAAlC;AAEA,QAAMC,IAAI,GAAGC,4BAAkB,CAACJ,MAAD,EAASK,sBAAT,CAA/B;AACA,QAAMC,MAAM,GAAG,CAAC,EAACN,MAAD,aAACA,MAAD,eAACA,MAAM,CAAEO,SAAT,CAAD,IAAuBC,oBAAQ,CAACR,MAAD,EAAS;AAAES,IAAAA,KAAK,EAAE;AAAEN,MAAAA;AAAF;AAAT,GAAT,CAA9C;AAEA,sBACER,wCAACe,0BAAD;AACE,IAAA,MAAM,EAAEJ,MADV;AAEE,IAAA,WAAW,EAAE,MAAOK,KAAP,IAAiB;AAC5B,UAAI,CAACX,MAAL,EAAa;AAEbW,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,0BAAgB,CAACb,MAAD,EAASD,UAAT,CAAhB;AACD;AAPH,KAQMlB,KARN,EADF;AAYD;;;;;;"}