{"version":3,"file":"index.js","sources":["../src/ToolbarLineHeight/ToolbarLineHeight.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useCallback } from 'react';\nimport { isCollapsed, someNode } from '@udecode/plate-common';\nimport {\n  getPlatePluginOptions,\n  useEventEditorId,\n  useStoreEditorState,\n} from '@udecode/plate-core';\nimport {\n  KEY_LINE_HEIGHT,\n  LineHeightPluginOptions,\n  setLineHeight,\n} from '@udecode/plate-line-height';\nimport {\n  ToolbarButton,\n  ToolbarButtonProps,\n  ToolbarDropdown,\n} from '@udecode/plate-toolbar';\nimport { ReactEditor } from 'slate-react';\n\nexport const ToolbarLineHeight = (props: ToolbarButtonProps) => {\n  const editor = useStoreEditorState(useEventEditorId('focus'));\n  const { lineHeights } = getPlatePluginOptions<\n    Required<LineHeightPluginOptions>\n  >(editor, KEY_LINE_HEIGHT);\n\n  const selectHandler = useCallback(\n    (lineHeight) => {\n      if (editor) {\n        ReactEditor.focus(editor);\n        setLineHeight(editor, {\n          lineHeight,\n        });\n      }\n    },\n    [editor]\n  );\n  return (\n    <ToolbarDropdown\n      control={\n        <ToolbarButton\n          active={\n            isCollapsed(editor?.selection) &&\n            someNode(editor!, { match: (n) => n.lineHeight !== undefined })\n          }\n          {...props}\n        />\n      }\n    >\n      {lineHeights &&\n        lineHeights.map((lineHeight: number) => (\n          <div\n            style={{ cursor: 'pointer' }}\n            key={lineHeight}\n            onClick={() => selectHandler(lineHeight)}\n          >\n            {lineHeight}\n          </div>\n        ))}\n    </ToolbarDropdown>\n  );\n};\n"],"names":["ToolbarLineHeight","props","editor","useStoreEditorState","useEventEditorId","lineHeights","getPlatePluginOptions","KEY_LINE_HEIGHT","selectHandler","useCallback","lineHeight","ReactEditor","focus","setLineHeight","React","ToolbarDropdown","ToolbarButton","isCollapsed","selection","someNode","match","n","undefined","map","cursor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAoBaA,iBAAiB,GAAIC,KAAD,IAA+B;AAC9D,QAAMC,MAAM,GAAGC,6BAAmB,CAACC,0BAAgB,CAAC,OAAD,CAAjB,CAAlC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBC,+BAAqB,CAE3CJ,MAF2C,EAEnCK,+BAFmC,CAA7C;AAIA,QAAMC,aAAa,GAAGC,iBAAW,CAC9BC,UAAD,IAAgB;AACd,QAAIR,MAAJ,EAAY;AACVS,MAAAA,sBAAW,CAACC,KAAZ,CAAkBV,MAAlB;AACAW,MAAAA,6BAAa,CAACX,MAAD,EAAS;AACpBQ,QAAAA;AADoB,OAAT,CAAb;AAGD;AACF,GAR8B,EAS/B,CAACR,MAAD,CAT+B,CAAjC;AAWA,sBACEY,+BAACC,4BAAD;AACE,IAAA,OAAO,eACLD,+BAACE,0BAAD;AACE,MAAA,MAAM,EACJC,uBAAW,CAACf,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEgB,SAAT,CAAX,IACAC,oBAAQ,CAACjB,MAAD,EAAU;AAAEkB,QAAAA,KAAK,EAAGC,CAAD,IAAOA,CAAC,CAACX,UAAF,KAAiBY;AAAjC,OAAV;AAHZ,OAKMrB,KALN;AAFJ,KAWGI,WAAW,IACVA,WAAW,CAACkB,GAAZ,CAAiBb,UAAD,iBACdI;AACE,IAAA,KAAK,EAAE;AAAEU,MAAAA,MAAM,EAAE;AAAV,KADT;AAEE,IAAA,GAAG,EAAEd,UAFP;AAGE,IAAA,OAAO,EAAE,MAAMF,aAAa,CAACE,UAAD;AAH9B,KAKGA,UALH,CADF,CAZJ,CADF;AAwBD;;;;"}